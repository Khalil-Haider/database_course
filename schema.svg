<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="800" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Definitions for reusable elements -->
  <defs>
    <!-- Background grid pattern -->
    <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
      <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e5ee" stroke-width="0.5"/>
    </pattern>
    
    <!-- Gradients -->
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3a1c71;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#d76d77;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffaf7b;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="dbmsGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4b79a1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#283e51;stop-opacity:1" />
    </linearGradient>
    
    <!-- Database Icon -->
    <symbol id="db-icon" viewBox="0 0 60 80">
      <ellipse cx="30" cy="15" rx="25" ry="10" fill="#3498db" stroke="#2980b9" stroke-width="1.5"/>
      <rect x="5" y="15" width="50" height="40" fill="#3498db" stroke="#2980b9" stroke-width="0"/>
      <ellipse cx="30" cy="55" rx="25" ry="10" fill="#3498db" stroke="#2980b9" stroke-width="1.5"/>
      <ellipse cx="30" cy="15" rx="20" ry="7" fill="#5dade2"/>
      <ellipse cx="30" cy="25" rx="20" ry="7" fill="#5dade2" opacity="0.8"/>
      <ellipse cx="30" cy="35" rx="20" ry="7" fill="#5dade2" opacity="0.6"/>
      <ellipse cx="30" cy="45" rx="20" ry="7" fill="#5dade2" opacity="0.4"/>
    </symbol>
    
    <!-- Schema Icon -->
    <symbol id="schema-icon" viewBox="0 0 50 50">
      <rect x="5" y="5" width="40" height="40" rx="5" ry="5" fill="#fff" stroke="#666" stroke-width="2"/>
      <rect x="10" y="10" width="30" height="10" rx="2" ry="2" fill="#e1f5fe" stroke="#03a9f4" stroke-width="1"/>
      <rect x="10" y="25" width="30" height="10" rx="2" ry="2" fill="#e1f5fe" stroke="#03a9f4" stroke-width="1"/>
      <line x1="15" y1="15" x2="35" y2="15" stroke="#0288d1" stroke-width="1"/>
      <line x1="15" y1="30" x2="35" y2="30" stroke="#0288d1" stroke-width="1"/>
    </symbol>
    
    <!-- Table Icon -->
    <symbol id="table-icon" viewBox="0 0 40 40">
      <rect x="5" y="5" width="30" height="30" rx="3" ry="3" fill="#fff" stroke="#666" stroke-width="1.5"/>
      <line x1="5" y1="12" x2="35" y2="12" stroke="#666" stroke-width="1.5"/>
      <line x1="5" y1="19" x2="35" y2="19" stroke="#666" stroke-width="1"/>
      <line x1="5" y1="26" x2="35" y2="26" stroke="#666" stroke-width="1"/>
      <line x1="15" y1="5" x2="15" y2="35" stroke="#666" stroke-width="1"/>
      <line x1="25" y1="5" x2="25" y2="35" stroke="#666" stroke-width="1"/>
    </symbol>
    
    <!-- View Icon -->
    <symbol id="view-icon" viewBox="0 0 40 40">
      <path d="M20 10 C7 10 2 20 2 20 C2 20 7 30 20 30 C33 30 38 20 38 20 C38 20 33 10 20 10 Z" fill="#fff" stroke="#666" stroke-width="1.5"/>
      <circle cx="20" cy="20" r="7" fill="#fff" stroke="#666" stroke-width="1.5"/>
      <circle cx="20" cy="20" r="3" fill="#666"/>
    </symbol>
    
    <!-- Function Icon -->
    <symbol id="function-icon" viewBox="0 0 40 40">
      <rect x="5" y="5" width="30" height="30" rx="3" ry="3" fill="#fff" stroke="#666" stroke-width="1.5"/>
      <text x="20" y="25" font-size="16" text-anchor="middle" font-family="monospace" fill="#666">f(x)</text>
    </symbol>
    
    <!-- Procedure Icon -->
    <symbol id="procedure-icon" viewBox="0 0 40 40">
      <rect x="5" y="5" width="30" height="30" rx="3" ry="3" fill="#fff" stroke="#666" stroke-width="1.5"/>
      <path d="M10 15 L20 15 L20 10 L30 20 L20 30 L20 25 L10 25 Z" fill="#eee" stroke="#666" stroke-width="1"/>
    </symbol>
    
    <!-- Column type icons -->
    <symbol id="pk-icon" viewBox="0 0 20 20">
      <circle cx="10" cy="10" r="7" fill="#ffd700" stroke="#b8860b" stroke-width="1"/>
      <text x="10" y="14" font-size="12" font-weight="bold" text-anchor="middle" font-family="Arial" fill="#b8860b">PK</text>
    </symbol>
    
    <symbol id="fk-icon" viewBox="0 0 20 20">
      <circle cx="10" cy="10" r="7" fill="#c0c0c0" stroke="#808080" stroke-width="1"/>
      <text x="10" y="14" font-size="12" font-weight="bold" text-anchor="middle" font-family="Arial" fill="#808080">FK</text>
    </symbol>
    
    <!-- Arrows and connections -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    
    <!-- Shadow filter -->
    <filter id="drop-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Main background -->
  <rect width="800" height="800" fill="#f8fafc"/>
  <rect width="800" height="800" fill="url(#grid)"/>
  
  <!-- Header section -->
  <rect x="0" y="0" width="800" height="100" fill="url(#headerGradient)" filter="url(#drop-shadow)"/>
  <text x="400" y="40" font-size="30" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">DATABASE SCHEMA ARCHITECTURE</text>
  <text x="400" y="70" font-size="18" font-weight="normal" text-anchor="middle" fill="white" font-family="Arial">Complete Visual Guide for Students</text>
  
  <!-- DBMS Section -->
  <rect x="50" y="120" width="700" height="650" rx="15" ry="15" fill="#f5f7fa" stroke="#d1d8e0" stroke-width="2" filter="url(#drop-shadow)"/>
  <rect x="50" y="120" width="700" height="60" rx="15" ry="15" fill="url(#dbmsGradient)"/>
  <text x="400" y="160" font-size="22" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">DATABASE MANAGEMENT SYSTEM (DBMS)</text>
  
  <!-- Database Container -->
  <rect x="70" y="200" width="660" height="550" rx="10" ry="10" fill="#fff" stroke="#7f8c8d" stroke-width="2"/>
  <use href="#db-icon" x="90" y="210" width="60" height="60"/>
  <text x="160" y="240" font-size="20" font-weight="bold" fill="#2c3e50" font-family="Arial">DATABASE</text>
  <text x="160" y="260" font-size="14" fill="#7f8c8d" font-family="Arial">A collection of organized data</text>
  
  <!-- Schema explanation text -->
  <text x="400" y="300" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c3e50" font-family="Arial">DATABASE SCHEMAS</text>
  <text x="400" y="325" font-size="14" text-anchor="middle" fill="#7f8c8d" font-family="Arial">Logical containers that organize database objects</text>
  
  <!-- Schema 1: Customer Management -->
  <g>
    <rect x="90" y="350" width="300" height="380" rx="10" ry="10" fill="#ebf5fb" stroke="#3498db" stroke-width="2"/>
    <rect x="90" y="350" width="300" height="40" rx="10" ry="10" fill="#3498db"/>
    <use href="#schema-icon" x="100" y="345" width="30" height="30"/>
    <text x="240" y="375" font-size="16" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">SCHEMA: CUSTOMER MANAGEMENT</text>
    
    <!-- Table: Customers -->
    <g transform="translate(120, 410)">
      <rect width="240" height="150" rx="5" ry="5" fill="#fff" stroke="#3498db" stroke-width="1.5" filter="url(#drop-shadow)"/>
      <rect width="240" height="30" rx="5" ry="5" fill="#3498db" stroke="#3498db" stroke-width="1.5"/>
      <use href="#table-icon" width="20" height="20" x="10" y="5"/>
      <text x="35" y="20" font-size="14" font-weight="bold" fill="white" font-family="Arial">CUSTOMERS</text>
      
      <!-- Column definitions with types -->
      <line x1="0" y1="30" x2="240" y2="30" stroke="#3498db" stroke-width="1.5"/>
      <use href="#pk-icon" width="15" height="15" x="10" y="37"/>
      <text x="30" y="50" font-size="12" fill="#333" font-family="Arial">customer_id (INT)</text>
      <line x1="0" y1="60" x2="240" y2="60" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="75" font-size="12" fill="#333" font-family="Arial">first_name (VARCHAR)</text>
      <line x1="0" y1="85" x2="240" y2="85" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="100" font-size="12" fill="#333" font-family="Arial">last_name (VARCHAR)</text>
      <line x1="0" y1="110" x2="240" y2="110" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="125" font-size="12" fill="#333" font-family="Arial">email (VARCHAR)</text>
      <line x1="0" y1="135" x2="240" y2="135" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="150" font-size="12" fill="#333" font-family="Arial">created_at (TIMESTAMP)</text>
    </g>
    
    <!-- View: Active Customers -->
    <g transform="translate(120, 580)">
      <rect width="240" height="80" rx="5" ry="5" fill="#fff" stroke="#3498db" stroke-width="1.5" filter="url(#drop-shadow)"/>
      <rect width="240" height="30" rx="5" ry="5" fill="#2980b9" stroke="#2980b9" stroke-width="1.5"/>
      <use href="#view-icon" width="20" height="20" x="10" y="5"/>
      <text x="35" y="20" font-size="14" font-weight="bold" fill="white" font-family="Arial">VIEW: ACTIVE_CUSTOMERS</text>
      <text x="120" y="55" font-size="12" text-anchor="middle" fill="#333" font-family="monospace">SELECT * FROM customers</text>
      <text x="120" y="70" font-size="12" text-anchor="middle" fill="#333" font-family="monospace">WHERE last_login > NOW() - INTERVAL '30 days'</text>
    </g>
    
    <!-- Function: Get Customer Name -->
    <g transform="translate(120, 680)">
      <rect width="240" height="30" rx="5" ry="5" fill="#1abc9c" stroke="#1abc9c" stroke-width="1.5" filter="url(#drop-shadow)"/>
      <use href="#function-icon" width="20" height="20" x="10" y="5"/>
      <text x="35" y="20" font-size="14" font-weight="bold" fill="white" font-family="Arial">FUNCTION: get_full_name()</text>
    </g>
  </g>
  
  <!-- Schema 2: Order Processing -->
  <g>
    <rect x="410" y="350" width="300" height="380" rx="10" ry="10" fill="#fef5e7" stroke="#f39c12" stroke-width="2"/>
    <rect x="410" y="350" width="300" height="40" rx="10" ry="10" fill="#f39c12"/>
    <use href="#schema-icon" x="420" y="345" width="30" height="30"/>
    <text x="560" y="375" font-size="16" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">SCHEMA: ORDER PROCESSING</text>
    
    <!-- Table: Orders -->
    <g transform="translate(440, 410)">
      <rect width="240" height="150" rx="5" ry="5" fill="#fff" stroke="#f39c12" stroke-width="1.5" filter="url(#drop-shadow)"/>
      <rect width="240" height="30" rx="5" ry="5" fill="#f39c12" stroke="#f39c12" stroke-width="1.5"/>
      <use href="#table-icon" width="20" height="20" x="10" y="5"/>
      <text x="35" y="20" font-size="14" font-weight="bold" fill="white" font-family="Arial">ORDERS</text>
      
      <!-- Column definitions with types -->
      <line x1="0" y1="30" x2="240" y2="30" stroke="#f39c12" stroke-width="1.5"/>
      <use href="#pk-icon" width="15" height="15" x="10" y="37"/>
      <text x="30" y="50" font-size="12" fill="#333" font-family="Arial">order_id (INT)</text>
      <line x1="0" y1="60" x2="240" y2="60" stroke="#e0e0e0" stroke-width="1"/>
      <use href="#fk-icon" width="15" height="15" x="10" y="67"/>
      <text x="30" y="75" font-size="12" fill="#333" font-family="Arial">customer_id (INT)</text>
      <line x1="0" y1="85" x2="240" y2="85" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="100" font-size="12" fill="#333" font-family="Arial">order_date (DATE)</text>
      <line x1="0" y1="110" x2="240" y2="110" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="125" font-size="12" fill="#333" font-family="Arial">total_amount (DECIMAL)</text>
      <line x1="0" y1="135" x2="240" y2="135" stroke="#e0e0e0" stroke-width="1"/>
      <text x="30" y="150" font-size="12" fill="#333" font-family="Arial">status (VARCHAR)</text>
    </g>
    
    <!-- Procedure: Process Order -->
    <g transform="translate(440, 580)">
      <rect width="240" height="80" rx="5" ry="5" fill="#fff" stroke="#f39c12" stroke-width="1.5" filter="url(#drop-shadow)"/>
      <rect width="240" height="30" rx="5" ry="5" fill="#e67e22" stroke="#e67e22" stroke-width="1.5"/>
      <use href="#procedure-icon" width="20" height="20" x="10" y="5"/>
      <text x="35" y="20" font-size="14" font-weight="bold" fill="white" font-family="Arial">PROCEDURE: process_order</text>
      <text x="120" y="55" font-size="12" text-anchor="middle" fill="#333" font-family="monospace">BEGIN</text>
      <text x="120" y="70" font-size="12" text-anchor="middle" fill="#333" font-family="monospace">   -- Process logic here</text>
    </g>
    
    <!-- Trigger: After Order -->
    <g transform="translate(440, 680)">
      <rect width="240" height="30" rx="5" ry="5" fill="#d35400" stroke="#d35400" stroke-width="1.5" filter="url(#drop-shadow)"/>
      <text x="120" y="20" font-size="14" font-weight="bold" text-anchor="middle" fill="white" font-family="Arial">TRIGGER: after_order_insert</text>
    </g>
  </g>
  
  <!-- Cross-schema relationship -->
  <path d="M360 470 L440 470" stroke="#666" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  
  <!-- Key Concepts Section -->
  <rect x="90" y="750" width="620" height="160" rx="10" ry="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" filter="url(#drop-shadow)"/>
  <text x="110" y="780" font-size="18" font-weight="bold" fill="#2c3e50" font-family="Arial">DATABASE SCHEMA: KEY CONCEPTS</text>
  
  <text x="110" y="810" font-size="14" fill="#2c3e50" font-family="Arial">• Schema: A logical container that organizes database objects (tables, views, functions, etc.)</text>
  <text x="110" y="835" font-size="14" fill="#2c3e50" font-family="Arial">• Objects: Tables store data; Views provide virtual tables; Functions and Procedures process data</text>
  <text x="110" y="860" font-size="14" fill="#2c3e50" font-family="Arial">• Relationships: Tables can be related across schemas (Foreign Keys)</text>
  <text x="110" y="885" font-size="14" fill="#2c3e50" font-family="Arial">• Access Control: Schemas help define security boundaries (users can be granted specific schema access)</text>
  
  <!-- Legend -->
  <g transform="translate(90, 910)">
    <text font-size="16" font-weight="bold" fill="#2c3e50" font-family="Arial">LEGEND:</text>
    <use href="#table-icon" width="20" height="20" x="0" y="20"/>
    <text x="25" y="35" font-size="12" fill="#2c3e50" font-family="Arial">Table</text>
    
    <use href="#view-icon" width="20" height="20" x="100" y="20"/>
    <text x="125" y="35" font-size="12" fill="#2c3e50" font-family="Arial">View</text>
    
    <use href="#function-icon" width="20" height="20" x="200" y="20"/>
    <text x="225" y="35" font-size="12" fill="#2c3e50" font-family="Arial">Function</text>
    
    <use href="#procedure-icon" width="20" height="20" x="300" y="20"/>
    <text x="325" y="35" font-size="12" fill="#2c3e50" font-family="Arial">Procedure</text>
    
    <use href="#pk-icon" width="20" height="20" x="400" y="20"/>
    <text x="425" y="35" font-size="12" fill="#2c3e50" font-family="Arial">Primary Key</text>
    
    <use href="#fk-icon" width="20" height="20" x="500" y="20"/>
    <text x="525" y="35" font-size="12" fill="#2c3e50" font-family="Arial">Foreign Key</text>
  </g>
</svg>